(this.webpackJsonphangman=this.webpackJsonphangman||[]).push([[0],{60:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var s,n=a(0),c=a(1),r=a.n(c),o=a(52),i=a.n(o),d=a(18),l=a(2),u=(a(60),a(61),a(11)),h=a(12),m=a(14),j=a(13),b=a(53),g=a.n(b)()("https://js0mmer-hangman.herokuapp.com:4000"),p=a.p+"static/media/0.fbbd1466.svg",v=a.p+"static/media/1.5f0f9ade.svg",O=a.p+"static/media/2.3c45b9c6.svg",f=a.p+"static/media/3.02a39ce4.svg",x=a.p+"static/media/4.02b609cb.svg",k=a.p+"static/media/5.c7d5ecb9.svg",y=a.p+"static/media/6.f6b3de7b.svg",w=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"create-room container",children:Object(n.jsxs)("div",{className:"rounded-card",children:[Object(n.jsx)("h3",{className:"heading",children:"Enter a username"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"word-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Type here...",maxLength:16,size:16,value:this.props.username,onChange:this.props.onUsernameChange}),Object(n.jsx)("span",{className:"underline"})]}),Object(n.jsx)("span",{className:"button button-small"+(""===this.props.username?" disabled":""),style:{display:"inline"},onClick:this.props.submitUsername,children:"Submit"})]})]})})}}]),a}(r.a.Component);function N(e){return Object(n.jsxs)("li",{className:"message",children:[Object(n.jsx)("span",{className:"username",children:e.data.username}),e.data.letter]})}function S(e){return Object(n.jsx)("li",{className:"log",children:e.message})}function L(e){return e.isHost&&!e.gameStarted?Object(n.jsx)("span",{className:"button button-small",onClick:e.onClick,children:"Start"}):null}!function(e){e.STARTED="STARTED",e.INVALID="INVALID",e.OKAY="OKAY"}(s||(s={}));var C=[p,v,O,f,x,k,y],I=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={roomId:"",wordLength:0,letterElements:[],knownLetters:{},needsUsername:!0,username:"",isHost:!1,gameStarted:!1,isTurn:!1,chat:[Object(n.jsx)(S,{message:"Please wait for the host to start the game"},0)],kick:!1,svg:0},e.chatInput=r.a.createRef(),e.messages=r.a.createRef(),e.wrongLetters=r.a.createRef(),e.keyDown=function(t){if("Enter"===t.key&&null!==e.chatInput.current&&""!==e.chatInput.current.value){var a=e.chatInput.current.value;e.chatInput.current.value="",g.emit("guess",a)}},e.onUsernameChange=function(t){(t.target.value.match(/^[a-zA-Z]+$/)||""===t.target.value)&&t.target.value.length<=16&&e.setState({username:t.target.value})},e.submitUsername=function(){g.emit("username",{roomId:e.state.roomId,name:e.state.username}),e.setState({needsUsername:!1})},e.startGame=function(){g.emit("start_game")},e}return Object(h.a)(a,[{key:"renderLetters",value:function(){for(var e,t,a=[],s=0;s<this.state.wordLength;s++)a.push((e=s,t=this.state.knownLetters[s]?this.state.knownLetters[s]:"",Object(n.jsx)("h1",{className:"letter",children:t},e)));this.setState({letterElements:a})}},{key:"componentDidMount",value:function(){var e=this;this.renderLetters();var t=this.props.match.params.id;this.setState({roomId:t}),g.on("room_status",(function(t){switch(t){case s.STARTED:alert("Game already started!"),e.setState({kick:!0});break;case s.INVALID:alert("Game does not exist!"),e.setState({kick:!0})}})),g.on("guess",(function(t){switch(e.addMessage(t),t.result){case!0:var a=e.state.knownLetters;console.log(t.indices);for(var s=0;s<t.indices.length;s++)a[t.indices[s]]=t.letter;console.log(a),e.setState({knownLetters:a}),e.renderLetters(),e.addLog("Correct!");break;case!1:if(null==e.wrongLetters.current)return;e.wrongLetters.current.innerHTML+=t.letter,e.setState({svg:e.state.svg+1}),e.addLog("Nope");break;default:e.addLog("Already guessed!")}})),g.on("is_host",(function(){e.setState({isHost:!0,chat:[]}),e.addLog("Start the game when you are ready")})),g.on("start_game",(function(){e.addLog("The game has begun"),e.setState({gameStarted:!0})})),g.on("is_turn",(function(t){t&&e.addLog("It's your turn"),e.setState({isTurn:!0})})),g.on("turn_end",(function(){e.setState({isTurn:!1})})),g.on("win",(function(){e.setState({kick:!0})})),g.on("lose",(function(){e.setState({kick:!0})})),g.on("word_length",(function(t){e.setState({wordLength:t}),e.renderLetters()})),g.on("no_players",(function(){alert("Can't start game without any players")})),g.on("connect",(function(){g.emit("join_room",t)})),g.connected?g.emit("join_room",t):g.connect()}},{key:"componentWillUnmount",value:function(){g.removeAllListeners(),g.disconnect()}},{key:"addLog",value:function(e){var t=this.state.chat.length,a=this.state.chat;a.push(Object(n.jsx)(S,{message:e},t)),this.setState({chat:a})}},{key:"addMessage",value:function(e){var t=this.state.chat.length,a=this.state.chat;a.push(Object(n.jsx)(N,{data:e},t)),this.setState({chat:a})}},{key:"render",value:function(){return this.state.kick?Object(n.jsx)(l.a,{to:"/"}):this.state.needsUsername?Object(n.jsx)(w,{username:this.state.username,onUsernameChange:this.onUsernameChange,submitUsername:this.submitUsername}):Object(n.jsxs)("div",{className:"room row",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"chat rounded-card",children:[Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"messages",ref:this.messages,children:this.state.chat.map((function(e){return e}))})}),Object(n.jsxs)("div",{className:"chat-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Guess here...",onKeyDown:this.keyDown,ref:this.chatInput,disabled:!this.state.gameStarted||this.state.isHost||!this.state.isTurn}),Object(n.jsx)("span",{className:"underline"})]})]})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:C[this.state.svg],id:"img",alt:"Hangman"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"row letters-wrapper",children:this.state.letterElements.map((function(e){return e}))})]})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(L,{isHost:this.state.isHost,gameStarted:this.state.gameStarted,onClick:this.startGame}),Object(n.jsx)("h1",{id:"wrong-letters",ref:this.wrongLetters})]})})]})}}]),a}(r.a.Component),A=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={code:void 0,join:!1},e.handleCodeChange=function(t){t.target.value.length<=6&&e.setState({code:Number.parseInt(t.target.value)})},e.handleJoin=function(){g.emit("join_room",e.state.code)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.on("room_status",(function(t){switch(t){case s.STARTED:alert("Game already started!");break;case s.INVALID:alert("Game does not exist!");break;case s.OKAY:e.setState({join:!0})}})),g.connected||g.connect()}},{key:"render",value:function(){return this.state.join?Object(n.jsx)(l.a,{to:"/room/".concat(this.state.code)}):Object(n.jsx)("div",{className:"title-screen",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("h1",{children:"Hangman"}),Object(n.jsx)(d.b,{className:"button",to:"/create-room",children:"Create Room"}),Object(n.jsxs)("div",{className:"join-group",children:[Object(n.jsx)("input",{type:"number",name:"code",min:0,max:999999,value:this.state.code,onChange:this.handleCodeChange}),Object(n.jsx)("span",{className:"button"+(!this.state.code||String(this.state.code).length<6?" disabled":""),onClick:this.handleJoin,children:"Join"})]})]})})}}]),a}(r.a.Component),T=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={word:"",code:""},e.onWordChange=function(t){(t.target.value.match(/^[a-zA-Z]+$/)||""===t.target.value)&&e.setState({word:t.target.value})},e.submit=function(){g.emit("create_room",e.state.word)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.on("room_code",(function(t){e.setState({code:t})})),g.connected||g.connect()}},{key:"componentWillUnmount",value:function(){g.off("room_code")}},{key:"render",value:function(){return""!==this.state.code?Object(n.jsx)(l.a,{to:"/room/".concat(this.state.code)}):Object(n.jsx)("div",{className:"create-room container",children:Object(n.jsxs)("div",{className:"rounded-card",children:[Object(n.jsx)("h3",{className:"heading",children:"Enter a word"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"word-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Type here...",maxLength:16,size:16,value:this.state.word,onChange:this.onWordChange}),Object(n.jsx)("span",{className:"underline"})]}),Object(n.jsx)("span",{className:"button button-small"+(""===this.state.word?" disabled":""),style:{display:"inline"},onClick:this.submit,children:"Submit"})]})]})})}}]),a}(r.a.Component);var _=function(){return Object(n.jsx)(d.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/room/:id",component:I}),Object(n.jsx)(l.b,{path:"/create-room",component:T}),Object(n.jsx)(l.b,{path:"/",component:A})]})})};a(96);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.3131791f.chunk.js.map