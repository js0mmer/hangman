(this.webpackJsonphangman=this.webpackJsonphangman||[]).push([[0],{60:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){"use strict";s.r(t);var a,n=s(0),r=s(1),c=s.n(r),i=s(52),o=s.n(i),l=s(18),d=s(2),u=(s(60),s(61),s(7)),h=s(8),m=s(10),j=s(9),b=s(53),p=s.n(b)()("https://js0mmer-hangman.herokuapp.com/"),g=s.p+"static/media/0.32c2d0f6.svg",v=s.p+"static/media/1.5b893ed1.svg",O=s.p+"static/media/2.025c09bb.svg",f=s.p+"static/media/3.b37d4c95.svg",x=s.p+"static/media/4.b887b4a3.svg",y=s.p+"static/media/5.ed941d7a.svg",k=s.p+"static/media/6.ec0b881b.svg",S=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"create-room container",children:Object(n.jsxs)("div",{className:"rounded-card",children:[Object(n.jsx)("h3",{className:"heading",children:"Enter a username"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"word-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Type here...",maxLength:16,size:16,value:this.props.username,onChange:this.props.onUsernameChange}),Object(n.jsx)("span",{className:"underline"})]}),Object(n.jsx)("span",{className:"button button-small"+(""===this.props.username?" disabled":""),style:{display:"inline"},onClick:this.props.submitUsername,children:"Submit"})]})]})})}}]),s}(c.a.Component);!function(e){e.WIN="You Won!",e.LOSE="Game over"}(a||(a={}));var N,w=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"popup rounded-card",children:Object(n.jsx)("h1",{children:this.props.result})})}}]),s}(c.a.Component);function L(e,t){return Object(n.jsx)("h1",{className:"letter",children:t},e)}function C(e){return Object(n.jsxs)("li",{className:"message",children:[Object(n.jsx)("span",{className:"username",children:e.data.username}),e.data.guess]})}function I(e){return Object(n.jsx)("li",{className:"log",children:e.message})}function A(e){return e.isHost&&!e.gameStarted?Object(n.jsx)("span",{className:"button button-small",onClick:e.onClick,children:"Start"}):null}!function(e){e.STARTED="STARTED",e.INVALID="INVALID",e.OKAY="OKAY"}(N||(N={}));var _=[g,v,O,f,x,y,k],T=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={roomId:"",wordLength:0,letterElements:[],knownLetters:{},needsUsername:!0,username:"",isHost:!1,gameStarted:!1,isTurn:!1,chat:[Object(n.jsx)(I,{message:"Please wait for the host to start the game"},0)],kick:!1,svg:0,players:[],endMessage:void 0},e.chatInput=c.a.createRef(),e.messages=c.a.createRef(),e.wrongLetters=c.a.createRef(),e.keyDown=function(t){if("Enter"===t.key&&null!==e.chatInput.current&&""!==e.chatInput.current.value){var s=e.chatInput.current.value;e.chatInput.current.value="",p.emit("guess",s)}else t.key.match(/^[a-zA-Z]+$/)||t.preventDefault()},e.onUsernameChange=function(t){(t.target.value.match(/^[a-zA-Z]+$/)||""===t.target.value)&&t.target.value.length<=16&&e.setState({username:t.target.value})},e.submitUsername=function(){p.emit("username",{roomId:e.state.roomId,name:e.state.username}),e.setState({needsUsername:!1})},e.startGame=function(){p.emit("start_game")},e}return Object(h.a)(s,[{key:"renderLetters",value:function(){for(var e=[],t=0;t<this.state.wordLength;t++)e.push(L(t,this.state.knownLetters[t]?this.state.knownLetters[t]:""));this.setState({letterElements:e})}},{key:"renderWord",value:function(e){for(var t=[],s=0;s<e.length;s++)t.push(L(s,e[s]));this.setState({letterElements:t})}},{key:"componentDidMount",value:function(){var e=this;this.renderLetters();var t=this.props.match.params.id;this.setState({roomId:t}),p.on("room_status",(function(t){switch(t){case N.STARTED:alert("Game already started!"),e.setState({kick:!0});break;case N.INVALID:alert("Game does not exist!"),e.setState({kick:!0})}})),p.on("guess",(function(t){switch(e.addMessage(t),t.result){case!0:if(1===t.guess.length){for(var s=e.state.knownLetters,a=0;a<t.indices.length;a++)s[t.indices[a]]=t.guess;e.setState({knownLetters:s}),e.renderLetters()}else e.renderWord(t.guess);e.addLog("Correct!");break;case!1:if(1===t.guess.length){if(null==e.wrongLetters.current)return;e.wrongLetters.current.innerHTML+=t.guess}e.setState({svg:e.state.svg+1}),e.addLog("Nope");break;default:e.addLog("Already guessed!")}})),p.on("is_host",(function(){e.setState({isHost:!0,chat:[]}),e.addLog("Start the game when you are ready")})),p.on("start_game",(function(){e.addLog("The game has begun"),e.setState({gameStarted:!0})})),p.on("is_turn",(function(t){t&&e.addLog("It's your turn"),e.setState({isTurn:!0})})),p.on("turn_end",(function(){e.setState({isTurn:!1})})),p.on("win",(function(){e.setState({endMessage:Object(n.jsx)(w,{result:a.WIN})}),setTimeout((function(){e.setState({kick:!0})}),3e3)})),p.on("lose",(function(){e.setState({endMessage:Object(n.jsx)(w,{result:a.LOSE})}),setTimeout((function(){e.setState({kick:!0})}),3e3)})),p.on("word_length",(function(t){e.setState({wordLength:t}),e.renderLetters()})),p.on("no_players",(function(){alert("Can't start game without any players")})),p.on("connect",(function(){p.emit("join_room",t)})),p.on("player_join",(function(t){if(t!==e.state.username){var s=e.state.players;s.push(t),e.addLog(t+" joined the game"),e.setState({players:s})}})),p.on("player_list",(function(t){e.setState({players:t})})),p.on("player_leave",(function(t){var s=e.state.players.filter((function(e){return e!==t}));e.addLog(t+" left the game"),e.setState({players:s})})),p.connected?p.emit("join_room",t):p.connect()}},{key:"componentWillUnmount",value:function(){p.removeAllListeners(),p.disconnect()}},{key:"addLog",value:function(e){var t=this.state.chat.length,s=this.state.chat;s.push(Object(n.jsx)(I,{message:e},t)),this.setState({chat:s})}},{key:"addMessage",value:function(e){var t=this.state.chat.length,s=this.state.chat;s.push(Object(n.jsx)(C,{data:e},t)),this.setState({chat:s})}},{key:"render",value:function(){return this.state.kick?Object(n.jsx)(d.a,{to:"/"}):this.state.needsUsername?Object(n.jsx)(S,{username:this.state.username,onUsernameChange:this.onUsernameChange,submitUsername:this.submitUsername}):Object(n.jsxs)("div",{className:"room row",children:[this.state.endMessage,Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"chat rounded-card",children:[Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"messages",ref:this.messages,children:this.state.chat.map((function(e){return e}))})}),Object(n.jsxs)("div",{className:"chat-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Guess here...",onKeyDown:this.keyDown,ref:this.chatInput,disabled:!this.state.gameStarted||this.state.isHost||!this.state.isTurn}),Object(n.jsx)("span",{className:"underline"})]})]})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:_[this.state.svg],id:"img",alt:"Hangman"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"row letters-wrapper",children:this.state.letterElements.map((function(e){return e}))})]})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(A,{isHost:this.state.isHost,gameStarted:this.state.gameStarted,onClick:this.startGame}),Object(n.jsx)("h1",{id:"wrong-letters",ref:this.wrongLetters})]})}),Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsxs)("div",{className:"players rounded-card",children:[Object(n.jsx)("h3",{children:"Players"}),Object(n.jsx)("ul",{children:this.state.players.map((function(e){return Object(n.jsx)("li",{children:e})}))})]})})]})}}]),s}(c.a.Component),D=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={code:0,join:!1},e.handleCodeChange=function(t){t.target.value.length<=6&&e.setState({code:Number.parseInt(t.target.value)})},e.handleJoin=function(){p.emit("join_room",e.state.code)},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this;p.on("room_status",(function(t){switch(t){case N.STARTED:alert("Game already started!");break;case N.INVALID:alert("Game does not exist!");break;case N.OKAY:e.setState({join:!0})}})),p.connected||p.connect()}},{key:"componentWillUnmount",value:function(){p.off("room_status")}},{key:"render",value:function(){return this.state.join?Object(n.jsx)(d.a,{to:"/room/".concat(this.state.code)}):Object(n.jsx)("div",{className:"title-screen",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("h1",{children:"Hangman"}),Object(n.jsx)(l.b,{className:"button",to:"/create-room",children:"Create Room"}),Object(n.jsxs)("div",{className:"join-group",children:[Object(n.jsx)("input",{type:"number",name:"code",min:0,max:999999,value:this.state.code?this.state.code:"",onChange:this.handleCodeChange}),Object(n.jsx)("span",{className:"button"+(!this.state.code||String(this.state.code).length<6?" disabled":""),onClick:this.handleJoin,children:"Join"})]})]})})}}]),s}(c.a.Component),E=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={word:"",code:""},e.onWordChange=function(t){(t.target.value.match(/^[a-zA-Z]+$/)||""===t.target.value)&&e.setState({word:t.target.value})},e.submit=function(){p.emit("create_room",e.state.word)},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this;p.on("room_code",(function(t){e.setState({code:t})})),p.connected||p.connect()}},{key:"componentWillUnmount",value:function(){p.off("room_code")}},{key:"render",value:function(){return""!==this.state.code?Object(n.jsx)(d.a,{to:"/room/".concat(this.state.code)}):Object(n.jsx)("div",{className:"create-room container",children:Object(n.jsxs)("div",{className:"rounded-card",children:[Object(n.jsx)("h3",{className:"heading",children:"Enter a word"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"word-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Type here...",maxLength:16,size:16,value:this.state.word,onChange:this.onWordChange}),Object(n.jsx)("span",{className:"underline"})]}),Object(n.jsx)("span",{className:"button button-small"+(""===this.state.word?" disabled":""),style:{display:"inline"},onClick:this.submit,children:"Submit"})]})]})})}}]),s}(c.a.Component);var U=function(){return Object(n.jsx)(l.a,{basename:"/hangman",children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/room/:id",component:T}),Object(n.jsx)(d.b,{path:"/create-room",component:E}),Object(n.jsx)(d.b,{path:"/",component:D})]})})};s(96);o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(U,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.5c033ac4.chunk.js.map